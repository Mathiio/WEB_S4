<template>
    <section>
        <form @submit.prevent="submitForm" v-if="!showfilm">
            <div class="question">
                <h2>Durée de cette séance ?</h2>
                <div class="range_show">
                    <input type="range" min="20" max="300" value="50" v-model="sliderValue" class="slider">
                    <p class="range_value">{{ sliderValue }}min</p>
                </div>
            </div>
            <div class="question">
                <h2>Ton genre préféré ?</h2>
                <div id="genre_selector">
                    <div class="wrapper">
                        <Splide :options="{ rewind: true, autoplay: true, pagination: false }">
                            <SplideSlide v-for="genre in genres" :key="genre.id" class="custom_select">
                                <input type="checkbox" :value="genre.id" v-model="selectedGenres">
                                <span>{{ genre.name }}</span>
                            </SplideSlide>
                        </Splide>
                    </div>
                </div>
            </div>
            <div class="question">
                <h2>Plutôt vintage ou dernier cri ?</h2>
                <div class="age_div">
                    <label class="custom_select_2">
                        <input type="radio" value="old" v-model="filterOptions">
                        <span>
                            <svg width="74" height="75" viewBox="0 0 74 75" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M72.2273 43.5408L72.8356 36.8587C72.8356 27.9862 71.1266 20.8887 64.8671 16.2221C61.4417 9.37016 53.8079 0.85315 36.9926 0.851929C20.1857 0.851929 12.5556 9.37017 9.13269 16.2234C2.87319 20.8887 1.16417 27.9874 1.16417 36.8599L1.77253 43.5421C0.928403 44.3764 0.351807 45.6713 0.351807 47.5733C0.351807 52.6748 3.33496 53.3601 4.55901 53.426C5.16736 63.5861 15.3787 74.1481 37.0011 74.1481C59.9587 74.1481 68.8239 62.1043 69.4383 53.4273C70.1884 53.3931 71.1913 53.1658 72.0501 52.3559C73.1117 51.3567 73.648 49.7466 73.648 47.5733C73.648 45.6713 73.0714 44.3764 72.2273 43.5408ZM70.798 51.0341C69.9771 51.8062 68.7762 51.5741 68.7726 51.5753L67.6499 51.3066V52.4585C67.6499 60.4454 59.4872 72.3304 37.0011 72.3304C14.5151 72.3304 6.35354 60.4466 6.35354 52.4598L6.34499 51.3298L5.23822 51.5741C5.08603 51.603 4.93134 51.6165 4.77645 51.6144C2.62521 51.6144 2.17322 49.4167 2.17322 47.5733C2.17322 44.7148 3.699 44.115 4.97802 44.115C5.10628 44.115 5.1918 44.1235 5.20646 44.1248L5.43856 44.1541L5.65845 44.0698C8.43515 42.9801 10.2895 41.3175 11.1715 39.1296C12.8769 34.8894 10.5045 29.7624 9.08627 26.6974C8.72589 25.918 8.35208 25.1142 8.25435 24.733C8.52677 22.7064 11.8617 2.66845 37.0011 2.66845C62.1368 2.6709 65.4755 22.7027 65.7466 24.733C65.6477 25.1154 65.2763 25.9192 64.9147 26.6974C63.4965 29.7612 61.1217 34.8894 62.8282 39.1296C63.709 41.3175 65.5634 42.9801 68.3413 44.0698L68.5612 44.1516L68.7884 44.126C68.866 44.1181 68.9439 44.1144 69.0218 44.115C70.3008 44.115 71.8266 44.7148 71.8266 47.5733C71.8266 49.2042 71.4699 50.4026 70.798 51.0341Z" />
                                <path
                                    d="M37.0013 55.1192C31.079 55.1192 26.2793 57.8397 26.2793 60.9059C26.2793 61.3176 26.3697 62.345 26.5371 62.345H30.1542L30.8689 60.6335L31.509 62.345H47.4204C47.6134 62.345 47.7209 61.2724 47.7209 60.8265C47.7209 57.7615 42.9224 55.1192 37.0013 55.1192Z" />
                                <path
                                    d="M37.0813 9.80507C39.9269 9.69658 42.7763 9.74388 45.6167 9.94677C48.4667 10.1544 51.3081 10.5417 54.2204 11.0132C51.6294 9.6035 48.7806 8.6702 45.8683 8.1046C42.9524 7.51945 39.9643 7.34476 36.9983 7.42539C34.0432 7.54419 31.105 7.93099 28.2198 8.58102C25.3369 9.19793 22.5748 10.1349 19.7798 11.0132C22.7471 11.1049 25.6484 10.6651 28.5142 10.4098C31.3862 10.141 34.2338 9.87836 37.0813 9.80507Z" />
                                <path
                                    d="M37.067 14.8246C40.5367 14.7159 44.0095 14.7624 47.475 14.9639C50.9493 15.1716 54.415 15.5564 57.9356 16.034C54.6801 14.6011 51.2046 13.6763 47.679 13.1144C44.1511 12.5341 40.5657 12.3631 36.9986 12.4437C33.4386 12.5611 29.8924 12.9462 26.3902 13.5957C22.8915 14.2089 19.4918 15.1508 16.064 16.0328C19.6335 16.1256 23.148 15.6895 26.6345 15.4318C30.1246 15.1618 33.5952 14.8991 37.067 14.8246Z" />
                                <path
                                    d="M51.0006 32.7748C49.0068 32.7731 47.056 33.3546 45.3886 34.4477C43.7211 35.5408 42.4098 37.0978 41.6162 38.9268C38.3533 38.7521 35.2846 38.9061 32.4957 39.2078C31.7391 37.3084 30.4299 35.6797 28.7374 34.5326C27.045 33.3855 25.0472 32.7728 23.0026 32.7736C17.3613 32.7736 12.7827 37.3351 12.7827 42.9679C12.7827 48.597 17.3613 53.1634 23.0026 53.1634C28.6452 53.1634 33.225 48.5983 33.225 42.9679C33.225 42.8299 33.2079 42.6918 33.203 42.5526C35.5607 42.3119 38.1163 42.1861 40.8124 42.2924C40.7941 42.5159 40.7757 42.7382 40.7757 42.9679C40.7757 48.597 45.3543 53.1634 50.9993 53.1634C56.6395 53.1634 61.2168 48.5983 61.2168 42.9679C61.218 37.3363 56.6407 32.7748 51.0006 32.7748ZM23.0026 49.7637C19.2401 49.7637 16.1898 46.7231 16.1898 42.9679C16.1898 39.2127 19.2401 36.1709 23.0026 36.1709C26.7652 36.1709 29.8167 39.2127 29.8167 42.9679C29.8167 46.7231 26.7652 49.7637 23.0026 49.7637ZM50.9981 49.7637C47.2356 49.7637 44.184 46.7231 44.184 42.9679C44.184 39.2127 47.2356 36.1709 50.9981 36.1709C54.7607 36.1709 57.8122 39.2127 57.8122 42.9679C57.8122 46.7231 54.7607 49.7637 50.9981 49.7637Z" />
                            </svg>
                            <p>{{ selectedMedia === 'films' ? "Films anciens" : "Séries anciennes" }}</p>
                        </span>
                    </label>
                    <label class="custom_select_2">
                        <input type="radio" value="young" v-model="filterOptions">
                        <span>
                            <svg width="74" height="75" viewBox="0 0 74 75" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M21.7276 38.4162C25.101 38.4162 27.8357 35.6816 27.8357 32.3082C27.8357 28.9348 25.101 26.2002 21.7276 26.2002C18.3543 26.2002 15.6196 28.9348 15.6196 32.3082C15.6196 35.6816 18.3543 38.4162 21.7276 38.4162Z" />
                                <path
                                    d="M52.2677 38.4162C55.641 38.4162 58.3757 35.6816 58.3757 32.3082C58.3757 28.9348 55.641 26.2002 52.2677 26.2002C48.8943 26.2002 46.1597 28.9348 46.1597 32.3082C46.1597 35.6816 48.8943 38.4162 52.2677 38.4162Z" />
                                <path
                                    d="M67.721 30.7226C67.1945 10.1007 52.0295 0.851929 36.9977 0.851929C21.9683 0.851929 6.80334 10.1007 6.27439 30.7226C2.215 31.2662 0.352058 34.6427 0.352058 37.7981C0.349615 39.6696 0.95553 41.4018 2.05742 42.6784C2.82336 43.5689 4.15735 44.6036 6.31104 44.8809C6.82655 50.7141 11.3758 58.0804 21.9488 61.7378C22.1186 61.926 22.3043 62.1007 22.4875 62.2766C23.7824 69.0259 29.7927 74.1481 36.9977 74.1481C44.2076 74.1481 50.2154 69.0235 51.5091 62.2753C51.6924 62.0982 51.8793 61.9247 52.0478 61.7366C62.6196 58.0791 67.1701 50.7141 67.6856 44.8773C71.7731 44.3495 73.6482 40.962 73.6482 37.7993C73.6482 34.6427 71.7853 31.2662 67.721 30.7226ZM36.9977 72.3609C29.8159 72.3609 23.9937 66.6328 23.9937 59.5622C23.9937 54.1248 27.4435 53.3613 32.3019 53.2966C32.3874 52.6259 32.9053 52.0994 33.5589 52.0994H40.4377C41.0913 52.0994 41.6093 52.6271 41.6923 53.2966C46.5506 53.3613 50.0029 54.1272 50.0029 59.5622C50.0041 66.6328 44.1795 72.3609 36.9977 72.3609ZM51.7595 59.2164C51.5873 52.61 46.6984 51.6987 43.1534 51.546C41.9342 49.7441 39.6437 48.5225 36.9977 48.5225C34.3566 48.5225 32.0636 49.7441 30.8445 51.546C27.2994 51.6987 22.4105 52.61 22.2383 59.2164C20.886 57.1813 20.153 54.7026 20.153 51.8172C20.153 47.0505 22.0135 46.1172 25.23 46.1172C26.6092 46.1172 28.2461 46.3053 29.9784 46.5057C32.1088 46.7537 34.5239 47.0334 37.0453 47.0334C39.5692 47.0334 41.9794 46.7537 44.1074 46.5057C45.8274 46.3053 47.4522 46.1172 48.8191 46.1172C52.0784 46.1172 53.8436 47.0261 53.8436 51.8172C53.8448 54.7026 53.1119 57.1788 51.7595 59.2164ZM66.5544 42.5648H65.3706V43.7558C65.3706 48.4065 62.1945 54.5121 54.3286 58.2502C55.1727 56.3555 55.6174 54.1993 55.6174 51.8172C55.6174 46.568 53.5846 44.33 48.8204 44.33C47.3508 44.33 45.6784 44.523 43.9059 44.7307C41.8255 44.9713 39.4678 45.2462 37.0466 45.2462C34.6278 45.2462 32.2652 44.9713 30.1799 44.7307C28.3976 44.5254 26.7106 44.33 25.2312 44.33C22.0416 44.33 18.3792 45.1815 18.3792 51.8172C18.3792 54.1981 18.8251 56.3555 19.6705 58.2502C11.8021 54.5108 8.62597 48.4053 8.62597 43.7558V42.5648H7.44346C5.88592 42.5648 4.67287 42.0761 3.84096 41.1123C3.11532 40.2706 2.71708 39.0942 2.71708 37.7993C2.71708 35.4941 3.95823 33.0314 7.44346 33.0314H8.62475V31.8391C8.62475 20.7042 12.8808 13.3611 18.8202 8.90473C23.3182 14.3177 28.0922 17.5244 38.1827 17.5378C33.4538 13.9622 35.8176 9.19425 35.8176 9.19425C35.8176 9.19425 45.2753 15.1532 53.5504 12.7699C53.5504 12.7699 48.8216 11.5776 47.6403 8.00319C47.6403 8.00319 51.172 8.8913 54.4214 8.36234C60.7542 12.7552 65.3731 20.2363 65.3731 31.8391V33.0314H66.5568C70.0433 33.0314 71.2857 35.4954 71.2857 37.7993C71.2832 40.1032 70.0408 42.5648 66.5544 42.5648Z" />
                                <path
                                    d="M41.7361 55.631H41.7263V56.6853C41.7263 57.4415 41.1485 58.0571 40.4375 58.0571H33.5587C32.8452 58.0571 32.2674 57.4415 32.2674 56.6853V55.631H32.2577C29.3087 55.631 27.1733 56.182 27.1733 59.5634C27.1733 64.5903 31.8899 68.034 36.9962 68.034C42.105 68.034 46.8216 64.5915 46.8216 59.5634C46.8228 56.182 44.685 55.631 41.7361 55.631ZM41.4429 65.1461C40.0588 65.3758 38.5843 65.5065 36.9975 65.5065C35.4131 65.5065 33.9386 65.3758 32.5545 65.1461C30.4717 64.032 28.9471 62.1116 28.9471 59.5634C28.9471 58.4273 29.0326 57.7554 30.6024 57.516C30.9579 58.8573 32.1489 59.8468 33.5587 59.8468H33.9166C34.895 60.2422 35.9409 60.4438 36.9962 60.4405C38.0523 60.4436 39.099 60.242 40.0784 59.8468H40.4363C41.846 59.8468 43.0346 58.8585 43.3901 57.5184C43.8055 57.5832 44.1842 57.6858 44.4541 57.8519C44.6325 57.9619 45.0478 58.2196 45.0478 59.5622C45.0503 62.1104 43.5257 64.032 41.4429 65.1461Z" />
                                <path
                                    d="M42.1041 40.9364H31.8927C29.3408 40.9364 31.8927 44.5987 36.999 44.5987C42.1041 44.5963 44.6597 40.9364 42.1041 40.9364Z" />
                            </svg>
                            <p>{{ selectedMedia === 'films' ? "Films récents" : "Séries récentes" }}</p>
                        </span>
                    </label>
                    <label class="custom_select_2">
                        <input type="radio" value="none" v-model="filterOptions">
                        <span>
                            <svg width="74" height="74" viewBox="0 0 74 74" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M71.8668 37.2339L72.4766 31.3989C72.4766 23.6626 70.7671 17.4439 64.4791 13.3969C61.0802 7.43108 53.4526 0 36.6379 0C19.8232 0 12.2156 7.43108 8.78667 13.4056C2.52864 17.4439 0.819183 23.6713 0.819183 31.3989L1.42899 37.2252C0.936935 37.6943 0.557765 38.2448 0.313931 38.8441C0.0700973 39.4433 -0.0334438 40.0792 0.00943833 40.714C0.00943833 45.1709 3.00849 45.764 4.21811 45.825C4.65797 52.2095 10.0763 58.7684 21.1428 61.9431C21.4727 62.3531 21.8226 62.7456 22.1425 63.1293C22.2824 63.2863 22.4324 63.4346 22.5823 63.5741C23.2733 66.354 25.0437 68.8403 27.594 70.6124C30.1443 72.3845 33.3179 73.3336 36.5779 73.2991C39.837 73.3303 43.0087 72.38 45.5582 70.6084C48.1077 68.8369 49.879 66.3525 50.5735 63.5741L51.0533 63.1293C51.493 62.7495 51.9069 62.3476 52.2929 61.9257C63.7893 58.498 68.6278 51.4594 69.0776 45.8948C70.0484 45.8705 70.9758 45.5387 71.6868 44.9615C72.7465 44.0894 73.2863 42.6851 73.2863 40.7837C73.3388 40.1389 73.24 39.4915 72.9959 38.8812C72.7518 38.2708 72.3676 37.7103 71.8668 37.2339ZM49.1139 62.7107C49.1139 62.8677 49.1139 63.0159 49.034 63.1642C48.4676 65.6537 46.9172 67.8906 44.6535 69.4846C42.3898 71.0786 39.5565 71.9286 36.6479 71.8861C33.7393 71.9286 30.9059 71.0786 28.6422 69.4846C26.3785 67.8906 24.8282 65.6537 24.2618 63.1642C24.2618 63.0159 24.2018 62.8677 24.1818 62.7281C24.1134 62.2829 24.0799 61.8341 24.0818 61.3849C24.0818 61.2716 24.0818 61.1582 24.0818 61.0448C24.0818 60.9314 24.0818 60.5564 24.1418 60.3121C24.6617 56.8234 27.8107 56.3001 32.1393 56.2564C32.1687 55.9903 32.3091 55.7428 32.534 55.561C32.7589 55.3793 33.0525 55.2761 33.3589 55.2709H39.9968C40.3015 55.2782 40.5927 55.3824 40.8155 55.5639C41.0382 55.7454 41.1773 55.9917 41.2064 56.2564C45.4951 56.2564 48.6441 56.8321 49.2039 60.3121C49.2039 60.5564 49.2239 60.8006 49.2639 61.0448C49.2639 61.1582 49.2639 61.2716 49.2639 61.3849C49.2492 61.8293 49.1991 62.2723 49.1139 62.7107ZM51.4732 60.3121L51.3532 60.4953C51.2133 60.7046 51.0633 60.9052 50.9134 61.0971C50.9134 60.9401 50.9134 60.7831 50.9134 60.6261C50.9134 60.4691 50.9134 60.4168 50.9134 60.3121C50.3336 55.6197 45.915 54.9394 42.656 54.8173C41.9568 54.0154 41.0469 53.3718 40.0031 52.9407C38.9593 52.5097 37.812 52.3037 36.6579 52.3403C35.5121 52.3108 34.3748 52.5201 33.3403 52.9509C32.3058 53.3817 31.404 54.0215 30.7097 54.8173C27.4608 54.9394 23.0322 55.6197 22.4524 60.3121V60.6261V61.1058C22.3024 60.9052 22.1525 60.7046 22.0125 60.4953L21.8925 60.3121C20.9117 58.7018 20.4098 56.9025 20.433 55.079C20.433 51.1716 22.2324 50.404 25.3414 50.404C26.8797 50.4408 28.4147 50.5485 29.94 50.7267C32.2047 50.984 34.4843 51.1296 36.7678 51.1628C39.0514 51.1293 41.3309 50.9837 43.5957 50.7267C45.1042 50.5487 46.6226 50.4409 48.1442 50.404C51.2933 50.404 53.0027 51.1541 53.0027 55.079C53.0092 56.9082 52.4829 58.709 51.4732 60.3121ZM70.4672 43.7405C70.1906 43.9371 69.8695 44.0807 69.525 44.1619C69.1805 44.243 68.8203 44.2599 68.4678 44.2115L67.3482 43.976V44.979C67.3482 49.7761 63.4794 56.1779 53.7325 59.7103C54.4036 58.2126 54.7429 56.6173 54.7322 55.0092C54.7322 50.7093 52.7328 48.9039 48.1642 48.9039C46.576 48.9386 44.991 49.0463 43.4157 49.2266C41.2176 49.4795 39.0047 49.6222 36.7878 49.6539C34.5676 49.6224 32.3514 49.4797 30.1499 49.2266C28.5613 49.0463 26.963 48.9386 25.3614 48.9039C22.2824 48.9039 18.7435 49.6016 18.7435 55.0092C18.7328 56.6173 19.072 58.2126 19.7432 59.7103C9.87632 56.2128 6.00755 49.8109 6.00755 45.0139V44.0283L4.8979 44.2463C4.74477 44.255 4.59117 44.255 4.43804 44.2463C2.28872 44.2463 1.82886 42.3275 1.82886 40.714C1.82886 38.2282 3.35838 37.7049 4.63798 37.7049H4.86791H5.09783L5.31776 37.6264C6.5306 37.2849 7.64766 36.7249 8.59656 35.9827C9.54546 35.2404 10.305 34.3325 10.826 33.3178C12.5355 29.6197 10.1562 25.1453 8.74668 22.4764C8.4252 21.9109 8.14473 21.3283 7.90695 20.732C8.18686 18.9876 11.5158 1.49145 36.6479 1.49145C61.7799 1.49145 65.1189 18.9353 65.3888 20.732C65.1554 21.3284 64.8782 21.9111 64.5591 22.4764C63.1395 25.1453 60.7603 29.6197 62.4697 33.3178C62.9827 34.3464 63.7397 35.2684 64.6909 36.0231C65.6421 36.7778 66.7658 37.348 67.988 37.6962L68.2079 37.766H68.4378H68.6678C69.9474 37.766 71.4769 38.2893 71.4769 40.775C71.5908 41.8551 71.2179 42.9313 70.4372 43.7754L70.4672 43.7405Z" />
                                <path
                                    d="M46.3501 60.61C45.8501 58.53 43.9901 58.15 41.5601 58.15V59.15C41.5668 59.3155 41.5408 59.4807 41.4836 59.6361C41.4264 59.7916 41.3391 59.9342 41.2267 60.0559C41.1143 60.1775 40.979 60.2759 40.8286 60.3452C40.6782 60.4146 40.5156 60.4536 40.3501 60.46H33.6801C33.5138 60.4587 33.3494 60.4245 33.1963 60.3593C33.0433 60.2942 32.9047 60.1994 32.7885 60.0804C32.6723 59.9614 32.5808 59.8205 32.5193 59.666C32.4578 59.5115 32.4274 59.3463 32.4301 59.18V58.18C29.9901 58.18 28.1301 58.56 27.6401 60.64C27.5519 61.044 27.5083 61.4565 27.5101 61.87C27.5051 61.9666 27.5051 62.0634 27.5101 62.16C27.5302 62.7542 27.6311 63.343 27.8101 63.91L27.8701 64.09C29.0301 67.58 32.8701 69.83 37.0001 69.83C41.1301 69.83 45.0001 67.57 46.1401 64.07C46.1646 64.0185 46.1847 63.9649 46.2001 63.91C46.3725 63.3421 46.4667 62.7533 46.4801 62.16C46.4853 62.0634 46.4853 61.9666 46.4801 61.87C46.4895 61.4462 46.4458 61.0229 46.3501 60.61ZM44.7501 62.46C44.7555 62.4931 44.7555 62.5269 44.7501 62.56C44.755 62.6099 44.755 62.6601 44.7501 62.71C44.7501 62.71 44.7501 62.78 44.7501 62.82V62.96C44.7461 62.9999 44.7461 63.0401 44.7501 63.08C44.7501 63.08 44.7501 63.16 44.7501 63.2C44.7544 63.2399 44.7544 63.2801 44.7501 63.32V63.45C44.71 63.5699 44.71 63.5699 44.67 63.6899C44.67 63.6899 44.6701 63.77 44.6701 63.8L44.6201 63.92C44.5584 64.0737 44.4883 64.2239 44.4101 64.37C43.7081 65.5789 42.635 66.5292 41.3501 67.08C38.5013 67.5333 35.5988 67.5333 32.7501 67.08C31.5283 66.4839 30.522 65.5229 29.8701 64.33C29.7919 64.1839 29.7218 64.0337 29.6601 63.88C29.4082 63.243 29.276 62.565 29.2701 61.88C29.231 61.4596 29.2998 61.0363 29.4701 60.65C29.6701 60.3 30.0701 60.08 30.8701 59.96C30.9338 60.2009 31.0279 60.4328 31.1501 60.65L31.2501 60.81C31.253 60.8299 31.253 60.8501 31.2501 60.87C31.253 60.8899 31.253 60.9101 31.2501 60.93C31.2705 60.9591 31.294 60.9859 31.3201 61.01C31.3947 61.1078 31.4748 61.2013 31.5601 61.29L31.6501 61.37L31.7401 61.45L31.9301 61.59L32.0301 61.66L32.1301 61.72L32.2201 61.78H32.3101H32.3701H32.4301L32.7601 61.91H32.8401H32.9201H33.0001H33.1201H33.3701H33.6301H33.9701C35.8844 62.6501 38.0058 62.6501 39.9201 61.91H40.3501H40.6201H40.7001H40.8501H40.9701H41.0701H41.1201H41.1901H41.2801L41.5201 61.81H41.5801C41.6601 61.81 41.7401 61.73 41.8201 61.69L41.9201 61.62L42.0101 61.56L42.1101 61.49L42.1901 61.42L42.2901 61.33C42.3141 61.3008 42.3409 61.274 42.3701 61.25L42.4601 61.16L42.5301 61.08C42.5301 61.08 42.6201 60.97 42.6701 60.91L42.8301 60.65C42.9539 60.4371 43.0481 60.2083 43.1101 59.97C43.4598 60.0105 43.7988 60.1156 44.1101 60.28C44.2603 60.3666 44.382 60.4952 44.4601 60.65V60.74C44.4601 60.74 44.4601 60.81 44.4601 60.85L44.5201 61.06C44.5201 61.12 44.5201 61.2 44.5201 61.28C44.5201 61.38 44.5201 61.5 44.5201 61.62V62.02C44.5251 62.0899 44.5251 62.1601 44.5201 62.23V62.32C44.5249 62.3598 44.5249 62.4001 44.5201 62.44L44.7501 62.46Z" />
                                <path
                                    d="M37.0803 7.45999C39.9273 7.34654 42.7785 7.39328 45.6203 7.59999C48.4703 7.80999 51.3103 8.18999 54.2203 8.65999C51.6024 7.27029 48.786 6.29216 45.8703 5.75999C42.9487 5.19945 39.9731 4.97133 37.0003 5.07999C34.0449 5.19755 31.1062 5.58246 28.2203 6.22999C25.3403 6.84999 22.5803 7.78999 19.7803 8.65999C22.7 8.64312 25.6157 8.44273 28.5103 8.05999C31.3503 7.74999 34.2303 7.45999 37.0803 7.45999Z" />
                                <path
                                    d="M37.07 12.46C40.5367 12.3467 44.0067 12.39 47.48 12.59C50.95 12.8 54.42 13.19 57.94 13.67C54.6603 12.2582 51.2117 11.2767 47.68 10.75C44.1487 10.1939 40.5734 9.96625 37 10.07C33.4265 10.1824 29.8664 10.5635 26.35 11.21C22.85 11.82 19.45 12.76 16.02 13.64C19.5546 13.6218 23.086 13.4215 26.6 13.04C30.13 12.77 33.6 12.51 37.07 12.46Z" />
                                <path
                                    d="M50.8029 25.0002C48.8255 24.9968 46.8905 25.5365 45.2369 26.5525C43.5833 27.5685 42.2836 29.0162 41.4985 30.7169C38.4804 30.5735 35.4549 30.6605 32.452 30.9772C31.518 28.7936 29.7489 27.0148 27.4901 25.9882C25.2314 24.9617 22.6454 24.7613 20.2374 25.426C17.8294 26.0908 15.7723 27.573 14.4682 29.5831C13.164 31.5931 12.7065 33.9867 13.1849 36.296C13.6634 38.6053 15.0435 40.6645 17.0555 42.0712C19.0675 43.478 21.567 44.1312 24.0655 43.9033C26.564 43.6753 28.8821 42.5826 30.5669 40.8387C32.2516 39.0947 33.1819 36.8247 33.1761 34.4723C33.1761 34.3421 33.1761 34.212 33.1761 34.0819C35.6833 33.8382 38.2056 33.7574 40.7248 33.8402C40.7248 34.054 40.7248 34.2585 40.7248 34.4723C40.7189 36.3547 41.31 38.1964 42.423 39.7635C43.536 41.3306 45.1207 42.5526 46.9761 43.2742C48.8314 43.9959 50.8738 44.1847 52.8438 43.8168C54.8139 43.4488 56.6229 42.5407 58.0413 41.2076C59.4597 39.8745 60.4234 38.1766 60.8103 36.3294C61.1971 34.4821 60.9896 32.5688 60.214 30.8323C59.4385 29.0958 58.1298 27.6143 56.4543 26.576C54.7787 25.5376 52.8117 24.9891 50.8029 25.0002ZM23.0285 40.8025C21.6949 40.7988 20.3923 40.4248 19.2855 39.7276C18.1786 39.0304 17.3172 38.0413 16.81 36.8855C16.3028 35.7296 16.1726 34.4588 16.4359 33.2336C16.6992 32.0085 17.3442 30.8839 18.2893 30.0022C19.2344 29.1204 20.4373 28.521 21.7458 28.2796C23.0544 28.0383 24.4099 28.1659 25.6411 28.6463C26.8723 29.1266 27.9239 29.9383 28.663 30.9786C29.4021 32.0188 29.7955 33.2411 29.7936 34.4909C29.7857 36.1657 29.0688 37.7691 27.8004 38.949C26.532 40.1289 24.8158 40.7889 23.0285 40.7839V40.8025ZM50.8029 40.8025C49.4688 40.8007 48.1653 40.4282 47.0571 39.7321C45.949 39.036 45.086 38.0476 44.5773 36.8919C44.0686 35.7362 43.937 34.4651 44.1992 33.2393C44.4613 32.0135 45.1055 30.8881 46.0502 30.0054C46.995 29.1227 48.1978 28.5224 49.5066 28.2803C50.8154 28.0382 52.1715 28.1652 53.4032 28.6454C54.635 29.1255 55.6872 29.9371 56.4267 30.9776C57.1663 32.0181 57.56 33.2407 57.558 34.4909C57.5475 36.1633 56.8312 37.7639 55.5655 38.943C54.2998 40.1221 52.5876 40.7839 50.8029 40.7839V40.8025Z" />
                            </svg>
                            <p>Sans préférence</p>
                        </span>
                    </label>
                </div>
            </div>
            <button type="submit">{{ loading === true ? 'Chargement en cours' : 'Rechercher' }}<span v-if="loading"
                    class="loader"></span></button>
        </form>
        <div v-if="showfilm" class="search_result">
            <h2>Ces films sont faits pour vous !</h2>
            <ul class="result_list">
                <li v-for="media in matchMedia.slice(0, 20)" @click="redirectToMedia(media.id)" :key="media.id">{{
            selectedMedia === 'films' ? media.title : media.name }}</li>
            </ul>
        </div>
    </section>
</template>



<style scoped>
.loader {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    display: inline-block;
    border-top: 3px solid var(--second-color);
    border-right: 3px solid transparent;
    box-sizing: border-box;
    animation: rotation 1s linear infinite;
    margin-left: var(--mid-space);
}

@keyframes rotation {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

.search_result {
    width: 100%;
}

.result_list {
    list-style: none;
    width: 100%;
}

.result_list li {
    border-bottom: solid 1px var(--third-color-alt);
    padding-top: var(--min-space);
    padding-bottom: var(--min-space);
    width: 100%;
    color: var(--third-color-alt);
    font-size: var(--min-size);
    cursor: pointer;
    transition: all ease-in-out 0.15s;
}

.result_list li:hover {
    color: var(--first-color);
    font-family: 'medium';
    transition: all ease-in-out 0.15s;
}

.age_div {
    width: 100%;
    display: flex;
    justify-content: start;
    align-items: start;
}

.range_value {
    color: var(--third-color-alt);
    font-size: var(--min-size);
    margin-left: var(--mid-space);
}

.range_show {
    width: 100%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.slider {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 4px;
    border-radius: 5px;
    background: linear-gradient(to right, #ffbb3d 0%, #ffbb3d calc((var(--slider-value) - 20) * 100% / (300 - 20)), #a6a6a681 calc((var(--slider-value) - 20) * 100% / (300 - 20)), #a6a6a681 100%);
    outline: none;
    position: relative;
}

.slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 25px;
    height: 25px;
    border-radius: 50%;
    background: #ffbb3d;
    border: solid 2px var(--first-color);
    cursor: pointer;
    position: relative;
    z-index: 2;
}

.slider::-moz-range-thumb {
    width: 25px;
    height: 25px;
    border-radius: 50%;
    border: solid 2px var(--first-color);
    transition: all ease-in-out .15s;
    cursor: pointer;
    position: relative;
    z-index: 2;
}

button {
    background-color: var(--first-color);
    padding: var(--mid-space);
    border-radius: var(--radius);
    font-size: var(--min-size);
    color: var(--second-color);
    display: flex;
    border: none;
    font-family: 'medium';
    transition: all ease-in-out .15s;
    cursor: pointer;
}

button:hover {
    background-color: var(--first-color-alt);
    transition: all ease-in-out .15s;
}

.question {
    width: 100%;
    position: relative;
    display: flex;
    justify-content: start;
    align-items: start;
    flex-direction: column;
    margin-bottom: var(--max-space);
}

h1 {
    width: 100%;
    text-align: left;
    font-family: 'medium';
    font-size: var(--max-size);
    color: var(--third-color);
    margin-bottom: var(--big-space);
}

h2 {
    font-size: var(--mid-size);
    color: var(--third-color);
    margin-bottom: var(--mid-space);
    font-weight: 100;
}

section {
    width: 100%;
    display: flex;
    justify-content: start;
    align-items: start;
    flex-direction: column;
    padding-right: var(--max-space);
    padding-left: var(--max-space);
    padding-bottom: var(--max-space);
}

form {
    width: 100%;
}

#genre_selector {
    width: 100%;
}

.genre_selector {
    display: flex;
    justify-content: start;
    align-items: center;
}

.custom_select {
    margin-right: var(--mid-space);
    width: min-content !important;
}

.custom_select_2 {
    margin-right: var(--mid-space);
    position: relative;
}

.custom_select_2 input[type="radio"] {
    position: absolute;
    opacity: 0;
    width: 100%;
    height: -webkit-fill-available;
    padding-top: var(--min-space);
    padding-bottom: var(--min-space);
    padding-right: var(--mid-space);
    padding-left: var(--mid-space);
}

.custom_select input[type="checkbox"] {
    position: absolute;
    opacity: 0;
    width: 100%;
    height: -webkit-fill-available;
    padding-top: var(--min-space);
    padding-bottom: var(--min-space);
    padding-right: var(--mid-space);
    padding-left: var(--mid-space);
}

.custom_select span {
    cursor: pointer;
    white-space: nowrap;
    transition: all 0.2s ease-in-out;
    padding: var(--mid-space);
    border-radius: var(--radius);
    border: solid 1px var(--third-color-alt);
    color: var(--third-color-alt);
    font-size: var(--min-size);
    display: block;
}

.custom_select_2 span {
    cursor: pointer;
    transition: all 0.2s ease-in-out;
    padding: var(--mid-space);
    border-radius: var(--radius);
    border: solid 1px var(--third-color-alt);
    color: var(--third-color-alt);
    font-size: var(--min-size);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.custom_select_2 span p {
    width: 100%;
    text-align: center;
}

.custom_select_2 span svg {
    fill: var(--third-color-alt);
    transition: all 0.2s ease-in-out;
    margin-bottom: var(--mid-space);
}

.custom_select input[type="checkbox"]:checked+span {
    border: solid 1px var(--first-color);
    color: var(--first-color);
    transition: all 0.2s ease-in-out;
}

.custom_select input[type="checkbox"]:hover+span {
    border: solid 1px var(--first-color);
    color: var(--first-color);
    transition: all 0.2s ease-in-out;
}

.custom_select_2 input[type="radio"]:checked+span {
    border: solid 1px var(--first-color);
    color: var(--first-color);
    transition: all 0.2s ease-in-out;
}

.custom_select_2 input[type="radio"]:hover+span {
    border: solid 1px var(--first-color);
    color: var(--first-color);
    transition: all 0.2s ease-in-out;
}

.custom_select_2 input[type="radio"]:checked+span svg {
    fill: var(--first-color);
    transition: all 0.2s ease-in-out;
}

.custom_select_2 input[type="radio"]:hover+span svg {
    fill: var(--first-color);
    transition: all 0.2s ease-in-out;
}

#genre {
    height: 44px;
    border: none;
    overflow: hidden;
}

#genre::-moz-focus-inner {
    border: 0;
}

#genre:focus {
    outline: none;
}

#genre option {
    width: 60px;
    font-size: 1.2em;
    padding: 10px 0;
    text-align: center;
    margin-right: 20px;
    display: inline-block;
    cursor: pointer;
    border: rgb(204, 204, 0) solid 1px;
    border-radius: 5px;
    color: rgb(204, 204, 0);
}

.wrapper {
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
}

.splide {
    width: 100%;
    cursor: grab;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    align-content: center;
}

.splide__track {
    width: 100%;
}

@media only screen and (max-width: 940px) {
    .age_div {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-column-gap: var(--mid-space);
        grid-row-gap: var(--big-space);
    }

    .custom_select_2 {
        margin-right: 0px;
    }

    .custom_select_2 span svg {
        width: 60px;
        margin-bottom: var(--min-space);
    }
}

@media only screen and (max-width: 540px) {
    section {
        padding-top: var(--max-space);
        padding-bottom: var(--max-space);
        padding-right: var(--big-space);
        padding-left: var(--big-space);
    }
}
</style>



<script>
import { Splide, SplideSlide, SplideTrack } from '@splidejs/vue-splide';
import '@splidejs/vue-splide/css';
import { getEntityAPI } from '@services/interface.js'




export default {
    props: {
        selectedMedia: String
    },
    data() {
        return {
            genres: [],
            selectedGenres: [],
            matchMedia: [],
            sliderValue: '20',
            filterOptions: {
                old: false,
                young: false,
                none: false
            },
            loading: false,
            showfilm: false,
        };
    },
    created() {
        this.retrieveGenres();
    },
    mounted() {
        this.$el.style.setProperty('--slider-value', `${this.sliderValue}`);
    },
    watch: {
        sliderValue() {
            this.$el.style.setProperty('--slider-value', `${this.sliderValue}`);
        }
    },
    methods: {
        redirectToMedia(mediaId) {
            this.$router.push({ name: 'MediaPrev', params: { id: mediaId } });
        },
        async retrieveGenres() {
            const entityAPI = getEntityAPI(this.selectedMedia);
            this.genres = await entityAPI.getGenres()
        },
        async submitForm() {
            try {
                this.loading = true;

                const entityAPI = getEntityAPI(this.selectedMedia);
                this.matchMedia = await entityAPI.sortMediasByGenres(this.selectedGenres, 60)
                this.matchMedia = await entityAPI.sortMediasByDate(this.matchMedia, this.filterOptions)
                this.matchMedia = await entityAPI.sortMediasByTime(this.matchMedia, this.sliderValue)

                if (this.matchMedia.length === 0) {
                    this.matchMedia.push({ title: "Aucun média trouvé", name: "aucun média n'a été trouvé avec tes critères de recherche" });
                }
                else {
                    this.matchMedia = this.matchMedia.sort((a, b) => b.vote_average - a.vote_average);
                }
                this.loading = false;
                this.showfilm = true;
            } catch (error) {
                console.error('Erreur lors de la recherche de films:', error);
            }
        },
    },
};
</script>